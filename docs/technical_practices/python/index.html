<!doctype html><html lang=en dir=ltr><head><meta name=generator content="Hugo 0.121.2"><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Python Tools and Practices # Python is a widely used language within REG. Below are some useful tools to help you configure your repo (with links to examples).
Some of the topics discussed below are not exclusive to Python. As more content is added to the manual they should be separated out into their own pages. Autoformatters / Linters # There are many widely used autoformatter and linters for Python, which can be used as standalone tools or call from ."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Python Tools and Practices"><meta property="og:description" content="Python Tools and Practices # Python is a widely used language within REG. Below are some useful tools to help you configure your repo (with links to examples).
Some of the topics discussed below are not exclusive to Python. As more content is added to the manual they should be separated out into their own pages. Autoformatters / Linters # There are many widely used autoformatter and linters for Python, which can be used as standalone tools or call from ."><meta property="og:type" content="article"><meta property="og:url" content="https://alan-turing-institute.github.io/REG-handbook/docs/technical_practices/python/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-04-12T17:18:29+01:00"><title>Python Tools and Practices | REG Handbook</title>
<link rel=manifest href=/REG-handbook/manifest.json><link rel=icon href=/REG-handbook/favicon.png type=image/x-icon><link rel=stylesheet href=/REG-handbook/book.min.089aff397d54192ae7b573c05fa8ed339d4f59cace9ff2082228368aeee57443.css integrity="sha256-CJr/OX1UGSrntXPAX6jtM51PWcrOn/IIIig2iu7ldEM="><script defer src=/REG-handbook/en.search.min.561bec97096db5da9226035439d280dd50372dbe51afa8efa432e1ec4266b687.js integrity="sha256-VhvslwlttdqSJgNUOdKA3VA3Lb5Rr6jvpDLh7EJmtoc="></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a href=/REG-handbook><span>REG Handbook</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><div class=menu-before-reg-logo><img src=/REG-handbook/Reginald_hex.png alt="Logo: Reginald the REG Chameleon"></div><ul><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/contributors/>Contributors</a><ul></ul></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/regular_events/>Regular Events</a><ul><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/regular_events/coffee_chats/>Coffee Chats</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/regular_events/drop-in_sessions/>Drop-in Sessions</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/regular_events/lightning_talks/>Lightning Talks</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/regular_events/lunchtime_tech_talks/>Lunchtime Tech Talks</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/regular_events/reading_groups/>Reading Groups</a></li></ul></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/onboarding/>Onboarding</a><ul><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/onboarding/buddy_system/>Buddy System</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/onboarding/new_joiners/>New Joiners</a><ul><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/onboarding/new_joiners/first_few_days/>First Few Days</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/onboarding/new_joiners/systems_set_up/>Systems Set Up</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/onboarding/new_joiners/checklist/>Checklist</a></li></ul></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/onboarding/society_of_research_software_engineering/>SocRSE</a></li></ul></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/how_we_work/>How we work</a><ul><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/how_we_work/knowledge_sharing/>Knowledge Sharing</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/how_we_work/defining-done/>Defining Project Doneness</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/how_we_work/meeting_record/>Meeting Records</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/how_we_work/code_audits/>Repo Audits</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/how_we_work/project_tracking/>Project Tracking</a></li></ul></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/working_at_the_turing/>Working at The Turing</a><ul><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/working_at_the_turing/booking_a_meeting_room/>Booking a Meeting Room</a></li></ul></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/technical_practices/>Common Technical Practices</a><ul><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/technical_practices/change_logs/>Changelogs and Semantic Versioning</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/technical_practices/python/ class=active>Python Tools and Practices</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/technical_practices/configuring_editors/>Configuring Your Editor</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/technical_practices/software_dev_best_practice/>Software Development</a></li></ul></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/communications/>Communications</a><ul><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/communications/twitter/>Twitter</a></li></ul></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/contributing/>Contributing</a><ul><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/contributing/discussions_and_issues/>Discussions and Issues</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/contributing/recognising_contributions/>Recognising Contributions</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/contributing/getting_started/>Getting Started</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/contributing/style_guide/>Style Guide</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/contributing/creating_a_page/>Adding New Content</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/contributing/editing_a_page/>Editing a Page</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/contributing/contributing_changes/>Contributing Changes</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/contributing/reviewing_changes/>Reviewing Changes</a></li><li><a href=https://alan-turing-institute.github.io/REG-handbook/docs/contributing/advanced/>Advanced</a></li></ul></li></ul><ul><li><a href=https://www.turing.ac.uk/research-engineering target=_blank rel=noopener>Research Engineering</a></li><li><a href=https://www.turing.ac.uk target=_blank rel=noopener>The Alan Turing Institute</a></li></ul></nav><script>(function(){var e=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/REG-handbook/svg/menu.svg class=book-icon alt=Menu>
</label><strong>Python Tools and Practices</strong>
<label for=toc-control><img src=/REG-handbook/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#python-tools-and-practices>Python Tools and Practices</a><ul><li><a href=#autoformatters--linters>Autoformatters / Linters</a></li><li><a href=#type-checkers>Type Checkers</a></li><li><a href=#automation-pre-commit--actions>Automation (Pre-Commit & Actions)</a></li><li><a href=#testing-tools>Testing tools</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=python-tools-and-practices>Python Tools and Practices
<a class=anchor href=#python-tools-and-practices>#</a></h1><p>Python is a widely used language within REG.
Below are some useful tools to help you configure your repo (with links to examples).</p><blockquote class="book-hint warning">Some of the topics discussed below are not exclusive to Python. As more content is added to the manual they should be separated out into their own pages.</blockquote><h2 id=autoformatters--linters>Autoformatters / Linters
<a class=anchor href=#autoformatters--linters>#</a></h2><p>There are many widely used autoformatter and linters for Python, which can be used as standalone tools or call from <code>.pre-commit</code>, continuous integration tools <em>etc.</em>:</p><ul><li><a href=https://pypi.org/project/isort/>isort</a> Sorts your import statements correctly.<ul><li>The order <code>isort</code> &ldquo;sorts&rdquo; imports in the following order:<ol><li>standard library imports (<em>e.g.</em> <code>import os</code>).</li><li>related third party imports (<em>e.g.</em> <code>import pandas</code>).</li><li>local application/library specific imports (<em>e.g.</em> <code>from .my_python_file import MyClass</code>).</li></ol></li><li>You should put a blank line between each group of imports.</li><li>the configuration of <code>isort</code> can be specified in a <code>pyproject.toml</code> file, where <code>isort</code> is using the <code>[tool.isort]</code> section.</li></ul></li><li><a href=https://pypi.org/project/black>black</a> A highly opinionated code formatter, which enforces control of minutiae details of your code.<ul><li>The configuration of <code>black</code> can be specified in a <code>pyproject.toml</code> file, where <code>black</code> is using the <code>[tool.black]</code> section.</li></ul></li><li><a href=https://pypi.org/project/flake8>flake8</a> A wrapper for three other tools:<ul><li>PyFlakes — checks syntax, without checking the style.</li><li>pycodestyle — checks compliance with <a href=https://peps.python.org/pep-0008/>PEP8</a></li><li>Ned Batchelder’s McCabe script — checks the cyclomatic complexity of code.</li><li>Configuration can be specified in a <code>.flake8</code> configuration file in the root directory of your project.</li></ul></li></ul><p>It is possible to use all of these in combination.
The ARC group have a <a href=https://github.com/alan-turing-institute/ARC-project-template>template repo with suggested configuration files</a> which you can copy/adapt as required.</p><h2 id=type-checkers>Type Checkers
<a class=anchor href=#type-checkers>#</a></h2><p>Type checking is optional in Python but is generally recommended.
There are several tools which can perform type checking:</p><ul><li><a href=https://mypy.readthedocs.io>mypy</a> — This type-checker has the distinction of including <a href=https://python.org/~guido>Guido van Rossum</a> in its core development team.</li><li><a href=https://github.com/Microsoft/pyright>pyright</a> — By Microsoft.</li><li><a href=https://github.com/google/pytype>pytype</a> — By Google.</li></ul><h2 id=automation-pre-commit--actions>Automation (Pre-Commit & Actions)
<a class=anchor href=#automation-pre-commit--actions>#</a></h2><p>A convenient way to incorporate many of these tools and checks into your workflow is to use <code>pre-commit</code>.
Below is an example.
You could adapt this to your needs, or create your own from the many <a href=https://pre-commit.com/>hooks described in the documentation</a>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#75715e># See https://pre-commit.com for more information</span>
</span></span><span style=display:flex><span><span style=color:#75715e># See https://pre-commit.com/hooks.html for more hooks</span>
</span></span><span style=display:flex><span><span style=color:#f92672>repos</span>:
</span></span><span style=display:flex><span>-   <span style=color:#f92672>repo</span>: <span style=color:#ae81ff>https://github.com/pre-commit/pre-commit-hooks</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>rev</span>: <span style=color:#ae81ff>v4.2.0</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>hooks</span>:
</span></span><span style=display:flex><span>    -   <span style=color:#f92672>id</span>: <span style=color:#ae81ff>trailing-whitespace</span>
</span></span><span style=display:flex><span>    -   <span style=color:#f92672>id</span>: <span style=color:#ae81ff>end-of-file-fixer</span>
</span></span><span style=display:flex><span>    -   <span style=color:#f92672>id</span>: <span style=color:#ae81ff>check-yaml</span>
</span></span><span style=display:flex><span>    -   <span style=color:#f92672>id</span>: <span style=color:#ae81ff>check-xml</span>
</span></span><span style=display:flex><span>    -   <span style=color:#f92672>id</span>: <span style=color:#ae81ff>check-json</span>
</span></span><span style=display:flex><span>    -   <span style=color:#f92672>id</span>: <span style=color:#ae81ff>pretty-format-json</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>args</span>: [--<span style=color:#66d9ef>no</span>-<span style=color:#ae81ff>ensure-ascii, --no-sort-keys, --autofix]</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>files</span>: <span style=color:#e6db74>&#34;.+json&#34;</span>
</span></span><span style=display:flex><span>    -   <span style=color:#f92672>id</span>: <span style=color:#ae81ff>check-added-large-files</span>
</span></span><span style=display:flex><span>-   <span style=color:#f92672>repo</span>: <span style=color:#ae81ff>https://github.com/psf/black</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>rev</span>: <span style=color:#ae81ff>22.3.0</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>hooks</span>:
</span></span><span style=display:flex><span>    -   <span style=color:#f92672>id</span>: <span style=color:#ae81ff>black</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#        files: &#34;*.py&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>exclude</span>: <span style=color:#e6db74>&#34;.+/ignore_this_legacy_file.py&#34;</span>
</span></span><span style=display:flex><span>-   <span style=color:#f92672>repo</span>: <span style=color:#ae81ff>https://github.com/pre-commit/mirrors-autopep8</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>rev</span>: <span style=color:#e6db74>&#39;v1.6.0&#39;</span>  <span style=color:#75715e># Use the sha / tag you want to point at</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>hooks</span>:
</span></span><span style=display:flex><span>    -   <span style=color:#f92672>id</span>: <span style=color:#ae81ff>autopep8</span>
</span></span><span style=display:flex><span>-   <span style=color:#f92672>repo</span>: <span style=color:#ae81ff>https://github.com/pre-commit/mirrors-mypy</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>rev</span>: <span style=color:#e6db74>&#39;v0.960&#39;</span>  <span style=color:#75715e># Use the sha / tag you want to point at</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>hooks</span>:
</span></span><span style=display:flex><span>    -   <span style=color:#f92672>id</span>: <span style=color:#ae81ff>mypy</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>exclude</span>: <span style=color:#e6db74>&#34;.+/ignore_this_legacy_file.py&#34;</span>
</span></span><span style=display:flex><span>-   <span style=color:#f92672>repo</span>: <span style=color:#ae81ff>https://github.com/pre-commit/mirrors-isort</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>rev</span>: <span style=color:#ae81ff>v5.10.1</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>hooks</span>:
</span></span><span style=display:flex><span>    -   <span style=color:#f92672>id</span>: <span style=color:#ae81ff>isort</span>
</span></span></code></pre></div><p>This example checks:</p><ul><li>There is no trailing whitespace at the end of each line.</li><li>There is exactly one blank line at the end of the file.</li><li>Any <code>yaml</code> files in the repo are formatted correctly.</li><li>Any <code>xml</code> files in the repo are formatted correctly.</li><li>Any <code>json</code> files in the repo are formatted correctly and &ldquo;pretty printed&rdquo;.</li><li>If any large files have been added to the repo without using <a href=https://git-lfs.github.com/>git-lfs</a></li><li>Any python code (except the file named &ldquo;ignore_this_legacy_file.py&rdquo;), is formatted according to &ldquo;<a href=https://black.readthedocs.io/en/stable/>black&rsquo;s</a>&rdquo; <em>uncompromising</em> standard.</li><li>Any python code (except the file named &ldquo;ignore_this_legacy_file.py&rdquo;), is formatted according to &ldquo;<a href=https://pep8.org/>pep8&rsquo;s</a>&rdquo; standard.</li><li>Any python code is tested for type safeness (That is declaring types is optional, but if types are declared they must be correct).</li><li>The import statements in any python code are correctly ordered.</li></ul><p>If any of these tests fail or need to alter any files, the commit will fail.
This prevents you from accidentally forgetting to check your changes before you commit them.</p><p>If you wish to run the checks in <code>pre-commit</code> without attempting to commit your changes:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pre-commit run --all-files
</span></span></code></pre></div><p>There are many other possible checks available with <code>pre-commit</code>, which you can incorporate according to the needs of your project.
The <a href=https://pre-commit.com/><code>pre-commit</code> documentation</a> provides much more detail.</p><h2 id=testing-tools>Testing tools
<a class=anchor href=#testing-tools>#</a></h2><p>Some suggested testing tools:</p><ul><li>A test framework <a href=https://docs.pytest.org/>pytest</a> or the less fashionable <a href=https://docs.python.org/3/library/unittest.html>unittest</a>.</li><li>Coverage reporting <a href=https://pypi.org/project/pytest-cov/>pytest-cov</a> (a plugin for <code>pytest</code>) or <a href=https://coverage.readthedocs.io/en/stable/>coverage</a>.</li><li>A tool for testing code examples in your documentation <a href=https://docs.python.org/3/library/doctest.html>doctest</a>.</li></ul><p>This list of tools does not include a discussion on developing a <em>testing strategy</em>.
Developing a testing strategy is a separate discussion, though it is not possible to make optimal use of these tools without a strategy.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/alan-turing-institute/REG-handbook/commit/7354dc4389558861d81c126d88dd97c334d2bbd2 title='Last modified by Levan Bokeria | 12 Apr 2023' target=_blank rel=noopener><img src=/REG-handbook/svg/calendar.svg class=book-icon alt=Calendar>
<span>12 Apr 2023</span></a></div><div><a class="flex align-center" href=https://github.com/alan-turing-institute/REG-handbook/edit/main/content/docs/technical_practices/python.md target=_blank rel=noopener><img src=/REG-handbook/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><br><div><a rel=license href=https://creativecommons.org/licenses/by/4.0/><img alt="Creative Commons Licence" style=border-width:0 src=https://i.creativecommons.org/l/by/4.0/88x31.png></a><p>This work is licensed under the&nbsp;<a rel=license href=https://creativecommons.org/licenses/by/4.0/>Creative Commons Attribution 4.0 International License</a>.</p><p>The Research Engineering logo is modified from <a rel=license href=https://zenodo.org/record/7785796>Illustrations from the Research Engineering Group</a>, by the Research Engineering Group and Scriberia, shared under the <a rel=license href=https://creativecommons.org/licenses/by/4.0/>Creative Commons Attribution 4.0 International License</a>.</p></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#python-tools-and-practices>Python Tools and Practices</a><ul><li><a href=#autoformatters--linters>Autoformatters / Linters</a></li><li><a href=#type-checkers>Type Checkers</a></li><li><a href=#automation-pre-commit--actions>Automation (Pre-Commit & Actions)</a></li><li><a href=#testing-tools>Testing tools</a></li></ul></li></ul></nav></div></aside></main></body></html>